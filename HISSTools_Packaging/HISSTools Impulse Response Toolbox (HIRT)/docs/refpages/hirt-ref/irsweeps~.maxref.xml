<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<?xml-stylesheet href="./_c74_ref.xsl" type="text/xsl"?>

<!--This file has been automatically generated by Doctor Max. DO NOT EDIT THIS FILE DIRECTLY.-->

<c74object name="irsweeps~" module="hirt">

	<digest>
		Generate measurement signals to a buffer
	</digest>

	<description>
		The <o>irsweeps~</o> object allows the generation of the same measurement signals available in the <o>irmeasure~</o> object but to a buffer, for use from another audio application or hardware device. Subsequent deconvolution can be performed using the <o>bufconvolve~</o> object.
	</description>

	<!--METADATA-->
	<metadatalist>
		<metadata name="author">Alex Harker</metadata>
		<metadata name="tag">HIRT</metadata>
		<metadata name="tag">HIRT Objects</metadata>
		<metadata name="tag">HIRT Impulse Response</metadata>
		<metadata name="tag">HIRT Measurement</metadata>
	</metadatalist>

	<!--INLETS-->
	<inletlist>
		<inlet id="0" type="INLET_TYPE">
			<digest>
				Instructions to <o>irsweeps~</o>
			</digest>
			<description>
			</description>
		</inlet>
	</inletlist>

	<!--OUTLETS-->
	<outletlist>
		<outlet id="0" type="INLET_TYPE">
			<digest>
				<m>Bang</m> on completion of called process
			</digest>
			<description>
			</description>
		</outlet>
	</outletlist>

	<!--ARGUMENTS-->
	<objarglist>
		<objarg name="NONE" optional="0" type="none">
			<digest>
				No arguments for <o>irsweeps~</o>
			</digest>
			<description>
			</description>
		</objarg>
	</objarglist>

	<!--MESSAGES-->
	<methodlist>
		<method name="brown">
			<arg name="out_buffer_name" optional="0" type="symbol" />
			<arg name="length" optional="1" type="int" />
			<arg name="fade_in" optional="1" type="int/float" />
			<arg name="fade_out" optional="1" type="int/float" />
			<arg name="sample_rate" optional="1" type="int/float" />
			<digest>
				Make a brown-noise recording
			</digest>
			<description>
				Syntax: <b>brown <m>&lt;symbol: out_buffer_name&gt;</m> <m>[&lt;int: length&gt;]</m> <m>[&lt;int/float: fade_in&gt;]</m> <m>[&lt;int/float: fade_out&gt;]</m> <m>[&lt;int/float: sample_rate&gt;]</m> </b><br />				<br />
				Note that noise signals will be identical each time when the same parameters are used. <br />
				<m>brown</m> defaults: [name] / 10000ms / 10ms / 10ms / host samplerate <br />
			</description>
		</method>
		<method name="invsweep">
			<arg name="out_buffer_name" optional="0" type="symbol" />
			<arg name="low_freq" optional="1" type="int/float" />
			<arg name="high_freq" optional="1" type="int/float" />
			<arg name="length" optional="1" type="int" />
			<arg name="fade_in" optional="1" type="int/float" />
			<arg name="fade_out" optional="1" type="int/float" />
			<arg name="sample_rate" optional="0" type="int/float" />
			<digest>
				Make an inverse sweep recording
			</digest>
			<description>
				Syntax: <b>invsweep <m>&lt;symbol: out_buffer_name&gt;</m> <m>[&lt;int/float: low_freq&gt;]</m> <m>[&lt;int/float: high_freq&gt;]</m> <m>[&lt;int: length&gt;]</m> <m>[&lt;int/float: fade_in&gt;]</m> <m>[&lt;int/float: fade_out&gt;]</m> <m>&lt;int/float: sample_rate&gt;</m> </b><br />				<br />
				The ESS (exponentially swept sine) is a signal with good signal to noise and distortion rejection properties for IR measurement. The inverse signal can be convolved directly with the resultant recordings, without the need for deconvolution. <br />
				<m>invsweep</m> defaults: [name] / 20Hz / nyquist / 30000ms / 50ms / 10ms / host samplerate <br />
			</description>
		</method>
		<method name="mls">
			<arg name="out_buffer_name" optional="0" type="symbol" />
			<arg name="order" optional="1" type="int" />
			<arg name="sample_rate" optional="1" type="int/float" />
			<digest>
				Make a Maximum Length Sequence recording
			</digest>
			<description>
				Syntax: <b>mls <m>&lt;symbol: out_buffer_name&gt;</m> <m>[&lt;int: order&gt;]</m> <m>[&lt;int/float: sample_rate&gt;]</m> </b><br />				<br />
				The MLS is an ordered noise-like signal containing all possible sequencs of -1 and 1 of a given length (according to the <m>order</m>). The overall length of the MLS is (2^N) -1 samples where N is the <m>order</m>. <br />
				<m>mls</m> defaults: [name] / 18 / host samplerate <br />
			</description>
		</method>
		<method name="pink">
			<arg name="out_buffer_name" optional="0" type="symbol" />
			<arg name="length" optional="1" type="int" />
			<arg name="fade_in" optional="1" type="int/float" />
			<arg name="fade_out" optional="1" type="int/float" />
			<arg name="sample_rate" optional="1" type="int/float" />
			<digest>
				Make a pink-noise recording
			</digest>
			<description>
				Syntax: <b>pink <m>&lt;symbol: out_buffer_name&gt;</m> <m>[&lt;int: length&gt;]</m> <m>[&lt;int/float: fade_in&gt;]</m> <m>[&lt;int/float: fade_out&gt;]</m> <m>[&lt;int/float: sample_rate&gt;]</m> </b><br />				<br />
				Note that noise signals will be identical each time when the same parameters are used. <br />
				<m>pink</m> defaults: [name] / 10000ms / 10ms / 10ms / host samplerate <br />
			</description>
		</method>
		<method name="sweep">
			<arg name="out_buffer_name" optional="0" type="symbol" />
			<arg name="low_freq" optional="1" type="int/float" />
			<arg name="high_freq" optional="1" type="int/float" />
			<arg name="length" optional="1" type="int" />
			<arg name="fade_in" optional="1" type="int/float" />
			<arg name="fade_out" optional="1" type="int/float" />
			<arg name="sample_rate" optional="0" type="int/float" />
			<digest>
				Make a sweep recording
			</digest>
			<description>
				Syntax: <b>sweep <m>&lt;symbol: out_buffer_name&gt;</m> <m>[&lt;int/float: low_freq&gt;]</m> <m>[&lt;int/float: high_freq&gt;]</m> <m>[&lt;int: length&gt;]</m> <m>[&lt;int/float: fade_in&gt;]</m> <m>[&lt;int/float: fade_out&gt;]</m> <m>&lt;int/float: sample_rate&gt;</m> </b><br />				<br />
				The ESS (exponentially swept sine) is a signal with good signal to noise and distortion rejection properties for IR measurement. The inverse signal can be convolved directly with the resultant recordings, without the need for deconvolution. <br />
				<m>sweep</m> defaults: [name] / 20Hz / nyquist / 30000ms / 50ms / 10ms / host samplerate <br />
			</description>
		</method>
		<method name="white">
			<arg name="out_buffer_name" optional="0" type="symbol" />
			<arg name="length" optional="1" type="int" />
			<arg name="fade_in" optional="1" type="int/float" />
			<arg name="fade_out" optional="1" type="int/float" />
			<arg name="sample_rate" optional="1" type="int/float" />
			<digest>
				Make a white-noise recording
			</digest>
			<description>
				Syntax: <b>white <m>&lt;symbol: out_buffer_name&gt;</m> <m>[&lt;int: length&gt;]</m> <m>[&lt;int/float: fade_in&gt;]</m> <m>[&lt;int/float: fade_out&gt;]</m> <m>[&lt;int/float: sample_rate&gt;]</m> </b><br />				<br />
				Note that noise signals will be identical each time when the same parameters are used. <br />
				<m>white</m> defaults: [name] / 10000ms / 10ms / 10ms / host samplerate <br />
			</description>
		</method>
	</methodlist>

	<!--ATTRIBUTES-->
	<attributelist>
		<attribute name="amp" get="1" set="1" type="float" size="1">
			<digest>
				Maximum Amplitude (dB)
			</digest>
			<description>
				Sets the maximum ampltiude of the generated signal in <b>dB</b>.
			</description>
			<attributelist>
				<attribute name="label" get="1" set="1" type="symbol" size="1" value="Maximum Amplitude (dB)" />
				<attribute name="style" get="1" set="1" type="symbol" size="1" value="text" />
			</attributelist>
		</attribute>
		<attribute name="ampcurve" get="1" set="1" type="atom_array" size="3">
			<digest>
				Sweep Amplitude Curve Specification
			</digest>
			<description>
				Instead of producing sweeps with a flat amplitude response the ampltiude can be varied with frequency, so as to best suit the measured system (for instance using lower ampltudes at low and high frequencies, thus avoiding distortion of the measurement speaker). <br />
				When blank, sweeps will be flat. Otherwise you should specify the ampitude response using frequency (<b>Hz</b>) &amp; amplitude (<b>dB</b>) pairs. <br />
				Example: <b><m>ampcurve</m> 10 -20 40 0 16000 0 19000 -25</b> <br />
			</description>
			<attributelist>
				<attribute name="label" get="1" set="1" type="symbol" size="1" value="Sweep Amplitude Curve Specification" />
				<attribute name="style" get="1" set="1" type="symbol" size="1" value="text" />
			</attributelist>
		</attribute>
		<attribute name="invamp" get="1" set="1" type="int" size="1">
			<digest>
				Invert Amplitude
			</digest>
			<description>
				When <m>invamp</m> is <b>on</b>, <o>irextract~</o> will perform deconvolution taking into account the output level. This correctly measures the gain of the system tested. <br />
				As for acoustic measurements the exact gain of the analog part of the system is essentially arbitrary (due to mic gains etc) so <m>invamp</m> defaults to <b>off</b>. <br />
				When measuring digital systems etc, or situations where the gain is controlled, <m>invamp</m> should be switched <b>on</b> to correctly capture gain information.
			</description>
			<attributelist>
				<attribute name="label" get="1" set="1" type="symbol" size="1" value="Invert Amplitude" />
				<attribute name="style" get="1" set="1" type="symbol" size="1" value="onoff" />
			</attributelist>
		</attribute>
		<attribute name="resize" get="1" set="1" type="int" size="1">
			<digest>
				Buffer Resize
			</digest>
			<description>
				If on, the <o>buffer~</o> will resize to the necessary size before write. Resizing erases all contents of the <o>buffer~</o>. <br />
				Otherwise, output will ONLY happen if there is enough room to write the entire output, leaving the latter contents of the <o>buffer~</o> and other <o>buffer~</o> channels unaffected. <br />
				<b>units: flag, default: 1, range: 0/1</b>
			</description>
			<attributelist>
				<attribute name="label" get="1" set="1" type="symbol" size="1" value="Buffer Resize" />
				<attribute name="style" get="1" set="1" type="symbol" size="1" value="onoff" />
			</attributelist>
		</attribute>
		<attribute name="writechan" get="1" set="1" type="int" size="1">
			<digest>
				Buffer Write Channel
			</digest>
			<description>
				Sets the channel number for <o>buffer~</o> writing (1-4). If the specified channel does not exist the value is wrapped within the existing number of channels (so 3 will write to channel 1 of a two-channel <o>buffer~</o>, 4 to channel 2). <br />
				<b>units: int, default: 1, range: 1..4</b>
			</description>
			<attributelist>
				<attribute name="label" get="1" set="1" type="symbol" size="1" value="Buffer Write Channel" />
				<attribute name="style" get="1" set="1" type="symbol" size="1" value="text" />
			</attributelist>
		</attribute>
	</attributelist>

	<!--DISCUSSION-->
	<discussion>
		Further Reading: <br />
		<br />
		ESS Measurement: <br />
		<br />
		A. Farina, “Simultaneous measurement of impulse response and distortion with a swept-sine technique,” in Audio Engineering Society Convention 108, 2 2000 <br />
		<br />
		A. Farina, “Advancements in impulse response measure- ments by sine sweeps,” in Audio Engineering Society Convention 122, 5 2007 <br />
		<br />
		A. Nova ́k and, L. Simon, F. Kadlec, and P. Lotton, “Nonlinear system identification using exponential swept-sine signal,” Instrumentation and Measure- ment, IEEE Transactions on, vol. 59, no. 8, pp. 2220 –2229, Aug. 2010 <br />
		<br />
		MLS Measurement: <br />
		<br />
		D. D. Rife and J. Vanderkooy, “Transfer-function measurement with maximum-length sequences,” J. Audio Eng. Soc, vol. 37, no. 6, pp. 419–444, 1989 <br />
		<br />
		Comparisions: <br />
		<br />
		G.-B. Stan, J.-J. Embrechts, and D. Archambeau, “Comparison of different impulse response mea- surement techniques,” J. Audio Eng. Soc, vol. 50, no. 4, pp. 249–262, 2002 <br />
	</discussion>

	<!--SEEALSO-->
	<seealsolist>
		<seealso name="iralign~" />
		<seealso name="iraverage~" />
		<seealso name="irextract~" />
		<seealso name="irinvert~" />
		<seealso name="irmeasure~" />
		<seealso name="irnonlin~" />
		<seealso name="irphase~" />
		<seealso name="irplapprox~" />
		<seealso name="irreference~" />
		<seealso name="irstats~" />
		<seealso name="irtransaural~" />
		<seealso name="irtrimnorm~" />
		<seealso name="iruser~" />
		<seealso name="irvalue~" />
		<seealso name="bufconvolve~" />
		<seealso name="bufresample~" />
		<seealso name="bufreverse~" />
		<seealso name="morphfilter~" />
		<seealso name="multiconvolve~" />
		<seealso name="spectrumdraw~" />
		<seealso name="hirt.irmaker~" />
        <seealso name="hirttutorials" type="tutorial" module="hirt" />
	</seealsolist>

	<misc name = "Input">
		<entry name ="Inlet 1 (messages)">
			<description>
				Instructions to <o>irsweeps~</o>.
			</description>
		</entry>
	</misc>

	<misc name = "Output">
		<entry name ="Outlet 1 (bang)">
			<description>
				<m>Bang</m> on completion of called process.
			</description>
		</entry>
	</misc>

	<misc name = "Discussion">
		<entry name ="More details">
			<description>
		Further Reading: <br />
		<br />
		ESS Measurement: <br />
		<br />
		A. Farina, “Simultaneous measurement of impulse response and distortion with a swept-sine technique,” in Audio Engineering Society Convention 108, 2 2000 <br />
		<br />
		A. Farina, “Advancements in impulse response measure- ments by sine sweeps,” in Audio Engineering Society Convention 122, 5 2007 <br />
		<br />
		A. Nova ́k and, L. Simon, F. Kadlec, and P. Lotton, “Nonlinear system identification using exponential swept-sine signal,” Instrumentation and Measure- ment, IEEE Transactions on, vol. 59, no. 8, pp. 2220 –2229, Aug. 2010 <br />
		<br />
		MLS Measurement: <br />
		<br />
		D. D. Rife and J. Vanderkooy, “Transfer-function measurement with maximum-length sequences,” J. Audio Eng. Soc, vol. 37, no. 6, pp. 419–444, 1989 <br />
		<br />
		Comparisions: <br />
		<br />
		G.-B. Stan, J.-J. Embrechts, and D. Archambeau, “Comparison of different impulse response mea- surement techniques,” J. Audio Eng. Soc, vol. 50, no. 4, pp. 249–262, 2002 <br />
			</description>
		</entry>
		<entry name ="Keywords">
			<description>
impulse response, buffer, convolution, sweep.
			</description>
		</entry>
	</misc>

</c74object>