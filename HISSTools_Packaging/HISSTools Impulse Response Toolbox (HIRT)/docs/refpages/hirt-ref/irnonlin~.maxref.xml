<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<?xml-stylesheet href="./_c74_ref.xsl" type="text/xsl"?>

<!--This file was automatically generated by Doctor Max. BUT HAND EDITED BY PETE SINCE.-->

<c74object name="irnonlin~" module="hirt">

	<digest>
		Transform IRs for harmonics of system into those required by a Hammerstein model
	</digest>

	<description>
		The ESS technique in use in the <o>irmeasure~</o> object can separate the nonlinear components of a system into IRs for each harmonic. Whilst this may be fine for analysis purposes, it is not easy to apply these measurements directly to a model of the system. The Hammerstein model is a more straightforward model that requires a different but related set of IRs. The <o>irnonlin~</o> object translates from harmonic IRs to the IRs required by the Hammerstein model.
	</description>

	<!--METADATA-->
	<metadatalist>
		<metadata name="author">Alex Harker</metadata>
		<metadata name="tag">HIRT</metadata>
		<metadata name="tag">HIRT Objects</metadata>
		<metadata name="tag">HIRT Impulse Response</metadata>
		<metadata name="tag">HIRT Measurement</metadata>
		<metadata name="tag">MSP Analysis</metadata>
	</metadatalist>

	<!--INLETS-->
	<inletlist>
		<inlet id="0" type="INLET_TYPE">
			<digest>
				Instructions to <o>irnonlin~</o>
			</digest>
			<description>
				<m>convert</m>, <m>convertto</m>
			</description>
		</inlet>
	</inletlist>

	<!--OUTLETS-->
	<outletlist>
		<outlet id="0" type="INLET_TYPE">
			<digest>
				<m>Bang</m> on completion of called process
			</digest>
			<description>
			</description>
		</outlet>
	</outletlist>

	<!--ARGUMENTS-->
	<objarglist>
		<objarg name="NONE" optional="0" type="none">
			<digest>
				No arguments for <o>irnonlin~</o>
			</digest>
			<description>
			</description>
		</objarg>
	</objarglist>

	<!--MESSAGES-->
	<methodlist>
		<method name="convert">
			<arg name="input_buffers_harmonic" optional="0" type="symbol" />
			<arg name="output_buffers_hammerstein" optional="0" type="symbol" />
			<digest>
				Convert in-place
			</digest>
			<description>
				Syntax: <b>convert <m>&lt;symbol: input_buffers_harmonic&gt;</m> <m>&lt;symbol: output_buffers_hammerstein&gt;</m> </b><br />				<br />
				I/O buffers (harmonic/Hammerstein IRs) 1 2 3 4 5 etc ...... <br />
				Multiple arguments for input.../output... buffers. <br />
			</description>
		</method>
		<method name="convertto">
			<arg name="output_buffers_hammerstein" optional="0" type="symbol" />
			<arg name="input_buffers_harmonic" optional="0" type="symbol" />
			<digest>
				Convert out-of-place
			</digest>
			<description>
				Syntax: <b>convertto <m>&lt;symbol: output_buffers_hammerstein&gt;</m> <m>&lt;symbol: input_buffers_harmonic&gt;</m> </b><br />				<br />
				Output buffers (Hammerstein IRs) 1 2 3 4 5 etc  ...... / Input buffers (harmonic IRs) 1 2 3 4 5 etc  ...... <br />
				(The number of buffers must correspond and harmonics must be entered in the correct continuous order). <br />
				Multiple arguments for output.../input... buffers. See the helpfile for a realisation. <br />
			</description>
		</method>
	</methodlist>

	<!--ATTRIBUTES-->
	<attributelist>
		<attribute name="readchan" get="1" set="1" type="int" size="1">
			<digest>
				Buffer Read Channel
			</digest>
			<description>
				Sets the channel number for <o>buffer~</o> reading (1-4). If the specified channel does not exist the value is wrapped within the existing number of channels (so 3 will read from channel 1 of a two-channel <o>buffer~</o>, 4 from channel 2). <br />
				<b>units: int, default: 1, range: 1..4</b>
			</description>
			<attributelist>
				<attribute name="label" get="1" set="1" type="symbol" size="1" value="Buffer Read Channel" />
				<attribute name="style" get="1" set="1" type="symbol" size="1" value="text" />
			</attributelist>
		</attribute>
		<attribute name="resize" get="1" set="1" type="int" size="1">
			<digest>
				Buffer Resize
			</digest>
			<description>
				If on, the <o>buffer~</o> will resize to the necessary size before write. Resizing erases all contents of the <o>buffer~</o>. <br />
				Otherwise, output will ONLY happen if there is enough room to write the entire output, leaving the latter contents of the <o>buffer~</o> and other <o>buffer~</o> channels unaffected. <br />
				<b>units: flag, default: 1, range: 0/1</b>
			</description>
			<attributelist>
				<attribute name="label" get="1" set="1" type="symbol" size="1" value="Buffer Resize" />
				<attribute name="style" get="1" set="1" type="symbol" size="1" value="onoff" />
			</attributelist>
		</attribute>
		<attribute name="writechan" get="1" set="1" type="int" size="1">
			<digest>
				Buffer Write Channel
			</digest>
			<description>
				Sets the channel number for <o>buffer~</o> writing (1-4). If the specified channel does not exist the value is wrapped within the existing number of channels (so 3 will write to channel 1 of a two-channel <o>buffer~</o>, 4 to channel 2). <br />
				<b>units: int, default: 1, range: 1..4</b>
			</description>
			<attributelist>
				<attribute name="label" get="1" set="1" type="symbol" size="1" value="Buffer Write Channel" />
				<attribute name="style" get="1" set="1" type="symbol" size="1" value="text" />
			</attributelist>
		</attribute>
	</attributelist>

	<!--EXAMPLE-->
<!--
	<examplelist>
		<example img="irnonlin~.png" caption="Generalized Polynomial Hammerstein Model (Power Series Nonlinear Model)" />
	</examplelist>
-->
	<!--DISCUSSION-->
	<discussion>
		 <br />
		 <img src="images/irnonlin~.png" /> <br />
		 <b>Generalized Polynomial Hammerstein Model (Power Series Nonlinear Model)</b> <br />
		 <br />
		<br />
		Further Reading &amp; Hammerstein model: <br />
		<br />
		ESS Measurement and Nonlinear Systems: <br />
		<br />
		A. Farina, “Simultaneous measurement of impulse response and distortion with a swept-sine technique,” in Audio Engineering Society Convention 108, 2 2000 <br />
		<br />
		A. Novak and, L. Simon, F. Kadlec, and P. Lotton, “Nonlinear system identification using exponential swept-sine signal,” Instrumentation and Measure- ment, IEEE Transactions on, vol. 59, no. 8, pp. 2220 –2229, Aug. 2010 <br />
		<br />
		('Generalized Polynomial...' figure above taken from this paper) <br />
		<br />
		The Hammerstein model employed in <o>irnonlin~</o> acts on the power series of the input (the input raised to each consecutive power up to the model order). This forms x1, x2, x3 etc. Each component of this series is then convolved with an appropriate IR (G1, G2, G3 etc.), and the outputs summed to form the output of the model. The <o>irnonlin~</o> object generates G1-GN from the harmoinc IRs (H1-HN). <br />
		<br />
	</discussion>

	<!--SEEALSO-->
	<seealsolist>
		<seealso name="iralign~" />
		<seealso name="iraverage~" />
		<seealso name="irextract~" />
		<seealso name="irinvert~" />
		<seealso name="irmeasure~" />
		<seealso name="irphase~" />
		<seealso name="irplapprox~" />
		<seealso name="irreference~" />
		<seealso name="irstats~" />
		<seealso name="irsweeps~" />
		<seealso name="irtransaural~" />
		<seealso name="irtrimnorm~" />
		<seealso name="iruser~" />
		<seealso name="irvalue~" />
		<seealso name="bufconvolve~" />
		<seealso name="bufresample~" />
		<seealso name="bufreverse~" />
		<seealso name="morphfilter~" />
		<seealso name="multiconvolve~" />
		<seealso name="spectrumdraw~" />
	</seealsolist>

	<misc name = "Input">
		<entry name ="Inlet 1 (messages)">
			<description>
				Instructions to <o>irnonlin~</o>.
				<m>convert</m>, <m>convertto</m>
			</description>
		</entry>
	</misc>

	<misc name = "Output">
		<entry name ="Outlet 1 (bang)">
			<description>
				<m>Bang</m> on completion of called process.
			</description>
		</entry>
	</misc>

	<misc name = "Discussion">
		<entry name ="More details">
			<description>
		Further Reading &amp; Hammerstein model: <br />
		<br />
		ESS Measurement and Nonlinear Systems: <br />
		<br />
		A. Farina, “Simultaneous measurement of impulse response and distortion with a swept-sine technique,” in Audio Engineering Society Convention 108, 2 2000 <br />
		<br />
		A. Novak and, L. Simon, F. Kadlec, and P. Lotton, “Nonlinear system identification using exponential swept-sine signal,” Instrumentation and Measure- ment, IEEE Transactions on, vol. 59, no. 8, pp. 2220 –2229, Aug. 2010 <br />
		<br />
		('Generalized Polynomial...' figure above taken from this paper) <br />
		<br />
		The Hammerstein model employed in <o>irnonlin~</o> acts on the power series of the input (the input raised to each consecutive power up to the model order). This forms x1, x2, x3 etc. Each component of this series is then convolved with an appropriate IR (G1, G2, G3 etc.), and the outputs summed to form the output of the model. The <o>irnonlin~</o> object generates G1-GN from the harmoinc IRs (H1-HN). <br />
		<br />
			</description>
		</entry>
		<entry name ="Keywords">
			<description>
impulse response, buffer, convolution, nonlinear, hammerstein, ess.
			</description>
		</entry>
	</misc>

</c74object>